{"version":3,"sources":["webpack://TasksApp/./tasks/src/app.js","webpack://TasksApp/webpack/bootstrap","webpack://TasksApp/webpack/runtime/chunk loaded","webpack://TasksApp/webpack/runtime/compat get default export","webpack://TasksApp/webpack/runtime/define property getters","webpack://TasksApp/webpack/runtime/global","webpack://TasksApp/webpack/runtime/hasOwnProperty shorthand","webpack://TasksApp/webpack/runtime/make namespace object","webpack://TasksApp/webpack/runtime/jsonp chunk loading","webpack://TasksApp/webpack/startup"],"names":["window","jQuery","$","$elm","load_voice_notes","html","url","data","view","startRecording","recordButton","disabled","stopButton","pauseButton","navigator","mediaDevices","getUserMedia","audio","video","then","stream","audioContext","AudioContext","document","getElementById","innerHTML","sampleRate","gumStream","input","createMediaStreamSource","rec","Recorder","numChannels","record","catch","err","pauseRecording","e","preventDefault","console","log","recording","stop","stopRecording","getAudioTracks","exportWAV","createDownloadLink","blob","URL","createObjectURL","au","createElement","li","link","filename","Date","toISOString","controls","src","href","download","appendChild","deletebtn","setAttribute","addEventListener","target","parentNode","remove","upload","event","fd","FormData","append","type","processData","contentType","beforeSend","css","success","recordingsList","error","request","status","alert","complete","createTextNode","webkitURL","webkitAudioContext","on","id","this","confirm","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","key","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","r","Symbol","toStringTag","value","installedChunks","143","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"mappings":"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","file":"js/app.e52365d6.js","sourcesContent":["import \"./sass/app.scss\"\r\nimport $ from 'jquery';\r\nimport \"popper.js\"\r\n\r\nwindow.jQuery = $;\r\nwindow.$ = $;\r\nimport \"bootstrap\"\r\n\r\nimport select2 from 'select2';\r\nimport 'select2/dist/css/select2.css';\r\n\r\n\r\nvar $elm = $('#js-task-voice-notes');\r\n\r\n        function load_voice_notes() {\r\n            $elm.html(\"<h5>Loading ...</h5>\")\r\n            var url = '/task_voice_notes/' + $elm.data('task-id')\r\n            $.get(url, function (data) {\r\n                $elm.html(data.view)\r\n            });\r\n        }\r\n\r\n        function startRecording() {\r\n            let constraints = {audio: true, video: false}\r\n            recordButton.disabled = true;\r\n            stopButton.disabled = false;\r\n            pauseButton.disabled = false;\r\n\r\n            navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\r\n                audioContext = new AudioContext();\r\n                document.getElementById(\"formats\").innerHTML = \"Format: 1 channel pcm @ \" + audioContext.sampleRate / 1000 + \"kHz\"\r\n                gumStream = stream;\r\n                input = audioContext.createMediaStreamSource(stream);\r\n                rec = new Recorder(input, {numChannels: 1})\r\n                rec.record()\r\n            }).catch(function (err) {\r\n                recordButton.disabled = false;\r\n                stopButton.disabled = true;\r\n                pauseButton.disabled = true\r\n            });\r\n        }\r\n        function pauseRecording(e) {\r\n            e.preventDefault();\r\n            console.log(\"pauseButton clicked rec.recording=\", rec.recording);\r\n            if (rec.recording) {\r\n                rec.stop();\r\n                pauseButton.innerHTML = \"Resume\";\r\n            } else {\r\n                rec.record()\r\n                pauseButton.innerHTML = \"Pause\";\r\n            }\r\n        }\r\n        function stopRecording() {\r\n            stopButton.disabled = true;\r\n            recordButton.disabled = false;\r\n            pauseButton.disabled = true;\r\n            pauseButton.innerHTML = \"Pause\";\r\n            rec.stop();\r\n            gumStream.getAudioTracks()[0].stop();\r\n            rec.exportWAV(createDownloadLink);\r\n        }\r\n\r\n\r\n        function delete_voice_note(id){\r\n            if (confirm('Are you sure to delete the voice note?')){\r\n                 $.get('/delete_voice_note/'+id,function (data){\r\n                     if(data.success){\r\n                         load_voice_notes();\r\n                     }else{\r\n                         alert('Failed to delete the task');\r\n                     }\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        function createDownloadLink(blob) {\r\n            let url = URL.createObjectURL(blob);\r\n            let au = document.createElement('audio');\r\n            let li = document.createElement('li');\r\n            let link = document.createElement('a');\r\n            let filename = new Date().toISOString();\r\n\r\n            au.controls = true;\r\n            au.src = url;\r\n\r\n            link.href = url;\r\n            link.download = filename + \".wav\";\r\n            link.innerHTML = \"Save to disk\";\r\n\r\n            li.appendChild(au);\r\n\r\n            let deletebtn = document.createElement('a')\r\n            deletebtn.href = \"javascript:void(0);\";\r\n            deletebtn.innerHTML = \"Delete\"\r\n            deletebtn.setAttribute('class', 'btn btn-danger')\r\n            deletebtn.addEventListener('click', function(e){\r\n                e.preventDefault();\r\n                e.target.parentNode.remove();\r\n            });\r\n            li.appendChild(deletebtn)\r\n\r\n            let upload = document.createElement('a');\r\n            upload.href = \"javascript:void(0);\";\r\n            upload.setAttribute('class', 'btn btn-primary')\r\n            upload.innerHTML = \"Upload\";\r\n\r\n\r\n\r\n            upload.addEventListener(\"click\", function (event) {\r\n                let fd = new FormData();\r\n                fd.append(\"voice_memo\", blob, filename);\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    processData: false,\r\n                    contentType: false,\r\n                    beforeSend: function () {\r\n                        $('.add-note-loader').css(\"visibility\", \"visible\");\r\n                    },\r\n                    url: '/add_voice_note/'+$elm.data('task-id'),\r\n                    data: fd,\r\n                    success: function (data) {\r\n                        $('.add-note-loader').css(\"visibility\", \"hidden\");\r\n                        recordingsList.innerHTML = \"\";\r\n                        load_voice_notes()\r\n                    },\r\n                    error: function (request, status, error) {\r\n                        $('.add-note-loader').css(\"visibility\", \"hidden\");\r\n                        alert('Something went wrong!');\r\n                    },\r\n                    complete: function () {\r\n                        $('.add-note-loader').css(\"visibility\", \"hidden\");\r\n                    }\r\n                });\r\n            })\r\n            li.appendChild(document.createTextNode(\" \"))\r\n            li.appendChild(upload)\r\n            recordingsList.appendChild(li);\r\n        }\r\n\r\n\r\n        $(function(){\r\n           load_voice_notes();\r\n           URL = window.URL || window.webkitURL;\r\n            let gumStream;                      //stream from getUserMedia()\r\n            let rec;                            //Recorder.js object\r\n            let input;                          //MediaStreamAudioSourceNode we'll be recording\r\n            let AudioContext = window.AudioContext || window.webkitAudioContext;\r\n            let audioContext //audio context to help us record\r\n\r\n            let recordButton = document.getElementById(\"recordButton\");\r\n            let stopButton = document.getElementById(\"stopButton\");\r\n            let pauseButton = document.getElementById(\"pauseButton\");\r\n            recordButton && recordButton.addEventListener(\"click\", startRecording);\r\n            stopButton && stopButton.addEventListener(\"click\", stopRecording);\r\n            pauseButton && pauseButton.addEventListener(\"click\", pauseRecording);\r\n\r\n            $('body').on('click', '.detete-note', function(){\r\n                delete_voice_note($(this).data('recording-id'))\r\n            });\r\n        });\r\n\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\t__webpack_require__.O();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkTasksApp\"] = self[\"webpackChunkTasksApp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], () => (__webpack_require__(0)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}